# Домашнее задание #2

## Задача

Инструментировать сервис из прошлого задания метриками в формате Prometheus с помощью библиотеки 
для вашего фреймворка и ЯП. 

Сделать дашборд в Графане, в котором были бы метрики с разбивкой по API методам:

    Latency (response time) с квантилями по 0.5, 0.95, 0.99, max
    RPS
    Error Rate - количество 500ых ответов

Добавить в дашборд графики с метрикам в целом по сервису, взятые с nginx-ingress-controller:

    Latency (response time) с квантилями по 0.5, 0.95, 0.99, max
    RPS
    Error Rate - количество 500ых ответов

Настроить алертинг в графане на Error Rate и Latency.

На выходе должно быть скриншоты дашбордов с графиками в момент стресс-тестирования сервиса. 
Например, после 5-10 минут нагрузки.

    json-дашборды.

Задание со звездочкой (+5 баллов)
Используя существующие системные метрики из кубернетеса, добавить на дашборд графики с метриками:

    Потребление подами приложения памяти
    Потребление подами приолжения CPU

Инструментировать базу данных с помощью экспортера для prometheus для этой БД. 
Добавить в общий дашборд графики с метриками работы БД. 

## Реализация

Проверялось на:

1. docker 20.10.12
2. helm 3.7.0
3. minikube 1.23.2

Запуск и деплой c helm:

```shell
cd manifests
kubectl create ns otus-msa-hw03
helm dep up helm
```
